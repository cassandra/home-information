<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <title>Setup.md.html</title>
    <style>
     /* This CSS is originated from a following sites.
	https://github.com/magnetikonline/ghmarkdownrender */
     body {
       background: #fff;
       color: #333;
       font: 16px/1.5 -apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';
       width: 50em;
       border: 1px solid #ddd;
       outline: 1300px solid #fff;
       margin: 20px auto;
       padding: 40px;
     }
     #frame {
       border: 1px solid #ddd;
       border-radius: 3px;
       margin: 0 auto;
       width: 978px;
     }
     #markdown {
       padding: 45px;
     }
     #markdown > *:first-child {
       margin-top: 0;
     }
     #markdown > *:last-child {
       margin-bottom: 0;
     }
     h1,h2,h3,h4,h5,h6 {
       font-weight: 600;
       line-height: 1.25;
       margin: 24px 0 16px;
       padding: 0;
     }
     h1,h2 {
       padding-bottom: 0.3em;
     }
     h1 {
       border-bottom: 1px solid #eee;
       font-size: 2em;
     }
     h2 {
       border-bottom: 1px solid #eee;
       font-size: 1.5em;
     }
     h3 {
       font-size: 1.25em;
     }
     h4 {
       font-size: 1em;
     }
     h5 {
       font-size: 0.875em;
     }
     h6 {
       color: #777;
       font-size: 0.85em;
     }
     a {
       color: #4183c4;
       text-decoration: none;
     }
     a:hover {
       text-decoration: underline;
     }
     blockquote,dl,ol,p,pre,table,ul {
       margin: 0 0 16px;
       padding: 0;
     }
     blockquote {
       border-left: 0.25em solid #ddd;
       color: #777;
       padding: 0 1em;
     }
     blockquote > *:first-child {
       margin-top: 0;
     }
     blockquote > *:last-child {
       margin-bottom: 0
     }
     hr {
       background: #e7e7e7;
       border: 0;
       height: 0.25em;
       margin: 24px 0;
       overflow: hidden;
       padding: 0;
     }
     hr:before,
     hr:after {
       content: '';
       display: table;
     }
     hr:after {
       clear: both;
     }
     img {
       background: #fff;
       border: 0;
       box-sizing: content-box;
       max-width: 100%;
     }
     kbd {
       background: #fcfcfc;
       border-bottom-color: #bbb;
       border-radius: 3px;
       border: 1px solid #ccc;
       box-shadow: inset 0 -1px 0 #bbb;
       color: #555;
       display: inline-block;
       font: 11px/10px Consolas,'Liberation Mono',Menlo,Courier,monospace;
       padding: 3px 5px;
       vertical-align: middle;
     }
     ol,ul {
       padding-left: 2em;
     }
     ol ol,
     ol ul,
     ul ol,
     ul ul {
       margin-bottom: 0;
       margin-top: 0;
     }
     ol ol,
     ul ol {
       list-style-type: lower-roman;
     }
     li + li {
       margin-top: 0.25em;
     }
     li > p {
       margin-top: 16px;
     }
     table {
       border-collapse: collapse;
       border-spacing: 0;
     }
     table tr {
       background: #fff;
       border-top: 1px solid #ccc;
     }
     table tr:nth-child(2n) {
       background: #f8f8f8;
     }
     table th,
     table td {
       border: 1px solid #ddd;
       padding: 6px 13px;
     }
     table th {
       font-weight: bold;
     }
     code,pre,tt {
       font-family: Consolas,'Liberation Mono',Menlo,Courier,monospace;
       font-size: 12px;
     }
     code,tt {
       background: rgba(0,0,0,0.04);
       border-radius: 3px;
       font-size: 85%;
       margin: 0;
       padding: 0.2em 0;
     }
     code {
       white-space: nowrap;
     }
     code:before,
     code:after,
     tt:before,
     tt:after {
       content: '\\00a0';
       letter-spacing: -0.2em;
     }
     pre {
       background: #f7f7f7;
       border-radius: 3px;
       font-size: 85%;
       line-height: 1.45;
       overflow: auto;
       padding: 16px;
     }
     pre code,
     pre tt {
       background: transparent;
       border: 0;
       margin: 0;
       padding: 0;
     }
     pre > code {
       background: transparent;
       font-size: 100%;
       white-space: pre;
     }
     pre > code:before,
     pre > code:after {
       content: normal;
     }
     h1 code,h1 tt,
     h2 code,h2 tt,
     h3 code,h3 tt,
     h4 code,h4 tt,
     h5 code,h5 tt,
     h6 code,h6 tt {
       font-size: inherit;
     }
     .highlight { margin-bottom: 16px; }
     .pl-c { color: #969896; }
     .pl-c1,.pl-s .pl-v { color: #0086b3; }
     .pl-e,.pl-en { color: #795da3; }
     .pl-ent { color: #63a35c; }
     .pl-id { color: #b52a1d; }
     .pl-ii { background-color: #b52a1d;color: #f8f8f8; }
     .pl-k { color: #a71d5d; }
     .pl-mb { color: #333;font-weight: bold; }
     .pl-md { background-color: #ffecec;color: #bd2c00; }
     .pl-mdr { color: #795da3;font-weight: bold; }
     .pl-mh,.pl-mh .pl-en,.pl-ms { color: #1d3e81;font-weight: bold; }
     .pl-mi { color: #333;font-style: italic; }
     .pl-mi1 { background-color: #eaffea;color: #55a532; }
     .pl-ml { color: #693a17; }
     .pl-mo { color: #1d3e81; }
     .pl-mq { color: #008080; }
     .pl-s,.pl-pds,.pl-s .pl-pse .pl-s1,.pl-sr,.pl-sr .pl-cce,.pl-sr .pl-sre,.pl-sr .pl-sra { color: #183691; }
     .pl-smi,.pl-s .pl-s1 { color: #333; }
     .pl-sr .pl-cce { color: #63a35c;font-weight: bold; }
     .pl-v { color: #ed6a43; }
     #footer {
       color: #777;
       font-size: 11px;
       margin: 10px auto;
       text-align: right;
       white-space: nowrap;
       width: 978px;
     }
    </style>
  </head>
  <body>
    <p><a target="_blank" rel="noopener noreferrer" href="../../src/hi/static/img/hi-logo-w-tagline-197x96.png"><img src="../../src/hi/static/img/hi-logo-w-tagline-197x96.png" alt="Home Information Logo" width="128" style="max-width: 100%;"></a></p>
<div class="markdown-heading"><h1 class="heading-element">Development Setup</h1><a id="user-content-development-setup" class="anchor" aria-label="Permalink: Development Setup" href="#development-setup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h2 class="heading-element">Fork the Repository</h2><a id="user-content-fork-the-repository" class="anchor" aria-label="Permalink: Fork the Repository" href="#fork-the-repository"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<ul>
<li>Go to the main repository on GitHub: <a href="https://github.com/cassandra/home-information">https://github.com/cassandra/home-information</a>
</li>
<li>Click the "Fork" button in the upper-right corner.</li>
<li>This creates a copy of the repository in the your GitHub account (keep same name if you can for simplicity).</li>
<li>The forked repo will be located at <a href="https://github.com/$%7BYOURUSERNAME%7D/home-information.git">https://github.com/${YOURUSERNAME}/home-information.git</a> (if you kept the same repo name).</li>
</ul>
<div class="markdown-heading"><h2 class="heading-element">Local Repository Setup</h2><a id="user-content-local-repository-setup" class="anchor" aria-label="Permalink: Local Repository Setup" href="#local-repository-setup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Decide where you want to download the code to (adjust the following):</p>
<div class="highlight highlight-source-shell"><pre>PROJ_DIR=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${HOME}</span>/proj<span class="pl-pds">"</span></span>
mkdir -p <span class="pl-smi">$PROJ_DIR</span>
<span class="pl-c1">cd</span> <span class="pl-smi">$PROJ_DIR</span></pre></div>
<p>Clone your fork to your local development envirnoment:</p>
<div class="highlight highlight-source-shell"><pre>git clone https://github.com/<span class="pl-smi">${YOURUSERNAME}</span>/home-information.git

<span class="pl-c"><span class="pl-c">#</span> Or use the SSH URL if you have SSH keys set up:</span>
git clone git@github.com:<span class="pl-smi">${YOURUSERNAME}</span>/home-information.git</pre></div>
<p>Add the original repo as "upstream":</p>
<div class="highlight highlight-source-shell"><pre>git remote add upstream https://github.com/cassandra/home-information.git

<span class="pl-c"><span class="pl-c">#</span> Or the SSH URL:</span>
git remote add upstream git@github.com:<span class="pl-smi">${YOURUSERNAME}</span>/home-information.git</pre></div>
<p>Verfy everything is set up properly:</p>
<div class="highlight highlight-source-shell"><pre>git remote -v

<span class="pl-c"><span class="pl-c">#</span> Expect</span>
origin    https://github.com/<span class="pl-smi">${YOURUSERNAME}</span>/home-information.git (fetch)
origin    https://github.com/<span class="pl-smi">${YOURUSERNAME}</span>/home-information.git (push)
upstream  https://github.com/cassandra/home-information.git (fetch)
upstream  https://github.com/cassandra/home-information.git (push)</pre></div>
<div class="markdown-heading"><h2 class="heading-element">Environment Setup</h2><a id="user-content-environment-setup" class="anchor" aria-label="Permalink: Environment Setup" href="#environment-setup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Generate the environment variable file and review with the command below. The file will contain sensitive secrets and are stored in a <code>.private</code> directory. Also note that administrative credentials created during this next step.</p>
<div class="highlight highlight-source-shell"><pre>make env-build-dev</pre></div>
<p>This generates an environment variable file that we "source" before running:</p>
<pre><code>$PROJ_DIR/.private/env/development.sh
</code></pre>
<p>This <code>.private</code> directory and its files should not be checked into the code repository. There is an existing <code>.gitignore</code> entry to prevent this.  The adminstrative credentials generated can also be seen in that file.</p>
<p>Next, create the Python virtual environment.</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> <span class="pl-smi">$PROJ_DIR</span>
python3.11 -m venv venv</pre></div>
<p>Now source the environment and virtual environment with this convenience script:</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c1">.</span> ./init-env-dev.sh</pre></div>
<p>In the future, just source'ing this script is all you need to set things up for development (virtual env and env vars).</p>
<p>Next, install all the app's required Python packages (make sure you are in the virtual env).</p>
<div class="highlight highlight-source-shell"><pre>pip install -r src/hi/requirements/development.txt</pre></div>
<div class="markdown-heading"><h3 class="heading-element">App and Database Initializations</h3><a id="user-content-app-and-database-initializations" class="anchor" aria-label="Permalink: App and Database Initializations" href="#app-and-database-initializations"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Initialize the database and add the admin users and groups.</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> <span class="pl-smi">$PROJ_DIR</span>
<span class="pl-c1">cd</span> src
./manage.py check
./manage.py migrate
./manage.py hi_createsuperuser
./manage.py hi_creategroups</pre></div>
<div class="markdown-heading"><h3 class="heading-element">Running</h3><a id="user-content-running" class="anchor" aria-label="Permalink: Running" href="#running"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-shell"><pre>./manage.py runserver</pre></div>
<p>Then, visit: <a href="http://127.0.0.1:8411" rel="nofollow">http://127.0.0.1:8411</a> to access the app.</p>
<p>If you want to familiarize yourself with how to use the app before diving inot the code, see the <a href="GettingStarted.md">Getting Started Page</a>.</p>
<p>A look through these docs might also be a good starting point:</p>
<ul>
<li><a href="DataModel.md">Data Model</a></li>
<li><a href="Architecture.md">Architecture</a></li>
</ul>

  </body>
</html>
