{% extends "modals/action_with_cancel.html" %}
{% load icons %}

{% block preamble %}
<form action="{% url 'profiles_devtools_snapshot' %}" method="post"
      class="form" data-async="modal">
  {% csrf_token %}
{% endblock %}

{% block title_text %}
Generate Profile Snapshot
{% endblock %}

{% block body %}
<div class="form-group">
  <label for="profile_type">Profile Type</label>
  <select class="form-control" id="profile_type" name="profile_type" required>
    <option value="">-- Select Profile Type --</option>
    {% for value, label in profile_types %}
    <option value="{{ value }}">{{ label }}</option>
    {% endfor %}
  </select>
  <small class="form-text text-muted">
    Select the profile type to use for naming the snapshot file
  </small>
</div>

<div class="form-group">
  <label>Output Location</label>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="output_to_tmp" id="output_tmp" value="true" checked>
    <label class="form-check-label" for="output_tmp">
      Write to /tmp directory (recommended for testing)
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="output_to_tmp" id="output_data" value="false">
    <label class="form-check-label" for="output_data">
      Overwrite existing profile data file
    </label>
  </div>
  <small class="form-text text-muted">
    Warning: Overwriting will replace the existing profile JSON file
  </small>
</div>
{% endblock %}

{% block action_right %}
<button id="hi-generate-snapshot-button" type="submit" class="btn btn-lg btn-success"
        name="action" value="generate">
  {% icon "camera" size="sm" css_class="hi-icon-left" %}GENERATE
</button>
{% endblock %}

{% block postamble %}
</form>
{% endblock %}