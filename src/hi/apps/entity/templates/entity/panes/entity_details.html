{% if request.is_editing %}
{% include "edit/panes/side_header.html" %}
{% endif %}

<div class="d-flex justify-content-between">
  <div class="h5"><small>Entity</small>: {{ entity_detail_data.entity.name }}</div>
  <div class="">
    <a href="{% url 'edit_item_details_close' %}"
       class="btn btn-tertiary" role="button" data-async="true">
      X
    </a>
  </div>
</div>

<div id="{{ DIVID.ENTITY_EDIT_PANE }}">
  {% include "entity/edit/panes/entity_edit.html" with entity=entity_detail_data.entity entity_form=entity_detail_data.entity_form entity_attribute_formset=entity_detail_data.entity_attribute_formset entity_attribute_upload_form=entity_detail_data.entity_attribute_upload_form %}
</div>

{% if entity_detail_data.entity_position_form %}
<h5>Geometry</h5>
<div id="{{ DIVID.ENTITY_POSITION_EDIT_PANE }}">
  {% include "entity/edit/panes/entity_position_edit.html" with entity=entity_detail_data.entity entity_position_form=entity_detail_data.entity_position_form %}
</div>
{% endif %}

<h5>Views</h5>
<div id="hi-edit-entity-views">
  {% include "entity/panes/entity_views.html" %}
</div>

<h5>Sensors</h5>
<div id="hi-edit-entity-sensors">
  {% include "entity/panes/entity_sensors.html" %}
</div>

<h5>Controllers</h5>
<div id="hi-edit-entity-controllers">
  {% include "entity/panes/entity_controllers.html" %}
</div>

<h5>Delegates</h5>
<div id="hi-edit-entity-controllers">
  <div>TBD - DELEGATES</div>
</div>

<h5>Principals</h5>
<div id="hi-edit-entity-controllers">
  <div>TBD - PRINCIPALS</div>
</div>

{% if entity_detail_data.entity.can_user_delete %}
<div class="">
  <a href="{% url 'entity_edit_entity_delete' entity_id=entity_detail_data.entity.id %}"
     class="btn btn-danger btn-control" role="button" data-async="true">
    DELETE ENTITY
  </a>
</div>
{% else %}
<h5>Integration</h5>
<div>{{ entity_detail_data.entity.integration_id }} [{{ entity_detail_data.entity.integration_name }}]</div>

{% endif %}
