{% extends "config/pages/config_base.html" %}
{% load icons %}
{% load tz %}

{% block config_content %}
{% timezone USER_TIMEZONE %}
<div class="container-fluid">
  <!-- System Health Page Header -->
  <div class="d-flex justify-content-between align-items-center my-3">
    <h3>System Health</h3>
    <button class="btn btn-outline-secondary btn-sm" data-async="refresh">
      {% icon "sync" size="sm" css_class="mr-1" %}Refresh Status
    </button>
  </div>

  <!-- Application Monitors Grid -->
  <div class="row">
    <div class="col-12">
      <h5 class="mb-3">Application Monitors</h5>
    </div>
  </div>

  <div class="row">
    {% for monitor in app_monitors %}
    <div class="col-lg-6 col-md-12 mb-3">
      {% include "system/panes/health_status_card.html" with health_status_provider=monitor %}
    </div>
    {% endfor %}
  </div>

  <!-- Weather Sources Section -->
  <div class="row mt-4">
    <div class="col-12">
      <h5 class="mb-3">Weather API Sources</h5>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      {% include "system/panes/health_status_pane.html" with health_status=weather_health %}
    </div>
  </div>

  <!-- Background Tasks Section -->
  <div class="row mt-4">
    <div class="col-12">
      <h5 class="mb-3">System Tasks</h5>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      {% include "system/panes/health_status_pane.html" with health_status=background_task_health_status %}
    </div>
  </div>
</div>
{% endtimezone %}
{% endblock %}
